read -p "Enter the server IDs or aliases (comma-separated): " server_input; IFS=',' read -ra servers <<< "$server_input"; for server in "${servers[@]}"; do echo "Connecting to $server..."; ssh "$server" "echo 'Memory Swap Usage (Last 5 Lines):'; smem -s swap -pt | tail -5; echo 'MySQL Process List:'; mysqladmin processlist"; read -p "Restart MySQL on $server? (yes/no): " confirm_mysql; if [[ $confirm_mysql == "yes" ]]; then ssh "$server" "systemctl restart mysql && echo 'MySQL restarted.' && systemctl status mysql"; else echo "Skipping MySQL restart for $server."; fi; read -p "Restart Elasticsearch on $server? (yes/no): " confirm_elastic; if [[ $confirm_elastic == "yes" ]]; then ssh "$server" "systemctl restart elasticsearch && echo 'Elasticsearch restarted.' && systemctl status elasticsearch"; else echo "Skipping Elasticsearch restart for $server."; fi; done; echo "All servers processed."
